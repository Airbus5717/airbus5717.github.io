@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&family=Share+Tech+Mono&display=swap');
@import "tailwindcss";

:root {
  color-scheme: dark only;
  --color-bg-canvas: #090c0a;
  --color-surface-1: #0f1511;
  --color-surface-2: #131a16;
  --color-surface-3: #18211c;
  --color-grid-soft: #1f2e27;
  --color-text-strong: #e2eee6;
  --color-text-muted: #a3afa6;
  --color-accent-primary: #63ffa8;
  --color-accent-secondary: #58b7ff;
  --color-accent-warn: #ffcd70;
  --font-body-mono: 'IBM Plex Mono', 'JetBrains Mono', 'Courier New', monospace;
  --font-display-mono: 'Share Tech Mono', 'JetBrains Mono', 'Courier New', monospace;
  --font-size-step--1: 0.86rem;
  --font-size-step-0: 1rem;
  --font-size-step-1: 1.12rem;
  --font-size-step-2: clamp(1.5rem, 3.1vw, 2.1rem);
  --font-size-step-3: clamp(2.1rem, 5.2vw, 3.2rem);
  --line-tight: 1.2;
  --line-normal: 1.62;
  --line-relaxed: 1.76;
  --space-unit: 0.5rem;
  --z-content: 47;
  --sidebar-width: 200px;
  --header-height: 44px;
  --statusbar-height: 34px;
  --fx-scanline-opacity: 0.3;
  --fx-flicker-opacity: 0.05;
  --fx-beam-opacity: 0.5;
  --fx-static-opacity: 0.4;
  --fx-aurora-opacity: 0.45;
  --fx-blob-opacity: 0.2;
  --fx-crt-screen-opacity: 0.3;
  --fx-glitch-opacity: 0.04;
  --fx-chroma-opacity: 0.05;
  --terminal-bg: var(--color-bg-canvas);
  --terminal-surface: var(--color-surface-1);
  --terminal-surface-2: var(--color-surface-2);
  --terminal-grid: var(--color-grid-soft);
  --terminal-text: var(--color-text-strong);
  --terminal-muted: var(--color-text-muted);
  --terminal-accent: var(--color-accent-primary);
  --terminal-accent-blue: var(--color-accent-secondary);
  --terminal-amber: var(--color-accent-warn);
  --shader-mx: 50%;
  --shader-my: 38%;
  --shader-click-x: 50%;
  --shader-click-y: 50%;
  --shader-click: 0;
  --shader-angle: 0deg;
}

@theme inline {
  --color-terminal-bg: var(--terminal-bg);
  --color-terminal-surface: var(--terminal-surface);
  --color-terminal-surface-2: var(--terminal-surface-2);
  --color-terminal-grid: var(--terminal-grid);
  --color-terminal-text: var(--terminal-text);
  --color-terminal-muted: var(--terminal-muted);
  --color-terminal-accent: var(--terminal-accent);
  --color-terminal-blue: var(--terminal-accent-blue);
  --color-terminal-amber: var(--terminal-amber);
}

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  min-height: 100%;
}

body {
  font-family: var(--font-body-mono);
  font-size: 17px;
  line-height: var(--line-normal);
  background:
    radial-gradient(1400px circle at 15% -12%, rgb(88 183 255 / 16%), transparent 52%),
    radial-gradient(1200px circle at 84% 0%, rgb(99 255 168 / 12%), transparent 48%),
    var(--terminal-bg);
  position: relative;
}

/* ═══════════════════════════════════════════════════════════
   SHADER STACK
   ═══════════════════════════════════════════════════════════ */

.shader-stack {
  position: fixed;
  inset: 0;
  z-index: -1;
  overflow: hidden;
  pointer-events: none;
}

.shader-layer {
  position: absolute;
  inset: -14%;
  transform-origin: 50% 50%;
  will-change: transform, opacity, background-position;
}

.shader-aurora {
  inset: -18%;
  background:
    radial-gradient(30% 28% at var(--shader-mx) var(--shader-my), rgb(99 255 168 / 18%), transparent 72%),
    radial-gradient(72% 58% at calc(var(--shader-mx) - 34%) calc(var(--shader-my) - 36%), rgb(88 183 255 / 16%), transparent 70%),
    radial-gradient(68% 54% at calc(var(--shader-mx) + 36%) calc(var(--shader-my) - 35%), rgb(99 255 168 / 18%), transparent 72%),
    radial-gradient(46% 40% at 53% 94%, rgb(67 130 98 / 18%), transparent 78%);
  opacity: var(--fx-aurora-opacity);
  animation: shader-aurora-drift 24s ease-in-out infinite alternate;
}

.shader-color-blob {
  background:
    radial-gradient(36% 34% at calc(var(--shader-mx) - 24%) calc(var(--shader-my) + 22%), rgb(88 183 255 / 22%), transparent 66%),
    radial-gradient(34% 32% at calc(var(--shader-mx) + 26%) calc(var(--shader-my) + 18%), rgb(99 255 168 / 20%), transparent 67%),
    radial-gradient(20% 20% at 54% 18%, rgb(255 205 112 / 10%), transparent 74%);
  mix-blend-mode: screen;
  filter: blur(34px) saturate(118%);
  opacity: var(--fx-blob-opacity);
  animation: shader-blob-float 30s ease-in-out infinite;
}

.shader-crt-screen {
  inset: 0;
  background:
    radial-gradient(ellipse 120% 88% at 50% 46%, transparent 52%, rgb(0 0 0 / 48%) 84%, rgb(0 0 0 / 72%) 100%),
    repeating-linear-gradient(to bottom, rgb(255 255 255 / 1%) 0 1px, rgb(0 0 0 / 20%) 1px 3px);
  mix-blend-mode: soft-light;
  opacity: var(--fx-crt-screen-opacity);
  animation: shader-crt-roll 12s linear infinite;
}

.shader-small-glitch {
  inset: 0;
  background:
    repeating-linear-gradient(
      90deg,
      transparent 0 34px,
      rgb(88 183 255 / 5%) 34px 35px,
      transparent 35px 68px,
      rgb(99 255 168 / 4%) 68px 69px,
      transparent 69px 104px
    );
  mix-blend-mode: screen;
  opacity: var(--fx-glitch-opacity);
  animation: shader-glitch-jump 5.8s steps(18, end) infinite;
}

.shader-small-glitch::before {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  top: -8%;
  height: 8%;
  background:
    linear-gradient(to bottom, transparent 0%, rgb(99 255 168 / 0%) 12%, rgb(99 255 168 / 14%) 48%, rgb(88 183 255 / 14%) 58%, rgb(99 255 168 / 0%) 100%);
  opacity: 0.45;
  animation: shader-glitch-band 7.4s linear infinite;
}

.shader-chroma-flow {
  inset: -12%;
  background:
    radial-gradient(circle at var(--shader-click-x) var(--shader-click-y), rgb(99 255 168 / calc(var(--shader-click) * 0.45)), transparent 20%),
    radial-gradient(circle at var(--shader-click-x) var(--shader-click-y), rgb(88 183 255 / calc(var(--shader-click) * 0.25)), transparent 34%),
    conic-gradient(
      from var(--shader-angle) at var(--shader-mx) var(--shader-my),
      rgb(88 183 255 / 10%),
      transparent 26%,
      rgb(99 255 168 / 12%) 44%,
      transparent 62%,
      rgb(255 205 112 / 8%) 74%,
      transparent 88%,
      rgb(88 183 255 / 10%)
    );
  mix-blend-mode: color-dodge;
  filter: blur(42px) saturate(110%);
  opacity: var(--fx-chroma-opacity);
  animation: shader-chroma-spin 18s linear infinite;
}

/* ═══════════════════════════════════════════════════════════
   CRT OVERLAYS
   ═══════════════════════════════════════════════════════════ */

.crt-body::before {
  content: '';
  position: fixed;
  inset: -100% 0;
  pointer-events: none;
  z-index: 24;
  opacity: var(--fx-scanline-opacity);
  background:
    repeating-linear-gradient(to bottom, transparent 0, transparent 1px, rgb(0 0 0 / 55%) 1px, rgb(0 0 0 / 55%) 2.5px, transparent 2.5px, transparent 3.5px);
  background-size: 100% 3.5px;
  animation: scanline-scroll 10s linear infinite;
}

.crt-body::after { display: none; }
.crt-screen { position: relative; min-height: 100vh; z-index: 0; }
.crt-screen::before { display: none; }
.crt-screen::after { display: none; }

.skip-link {
  position: absolute;
  left: 10px;
  top: -48px;
  z-index: 10000;
  padding: 0.45rem 0.7rem;
  border: 1px solid var(--terminal-accent);
  border-radius: 0.45rem;
  color: var(--terminal-accent);
  background: #07120d;
  text-decoration: none;
}

.skip-link:focus { top: 10px; }

.crt-flicker {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 25;
  opacity: var(--fx-flicker-opacity);
  background:
    repeating-linear-gradient(to right, transparent 0, transparent 1px, rgb(99 255 168 / 22%) 1px, rgb(99 255 168 / 22%) 2px, transparent 2px, transparent 3px, rgb(88 183 255 / 16%) 3px, rgb(88 183 255 / 16%) 4px, transparent 4px, transparent 6px);
  animation: vertical-drift 14s linear infinite;
}

.crt-flicker::before {
  content: '';
  position: fixed;
  left: 0;
  right: 0;
  top: -12%;
  height: 12%;
  pointer-events: none;
  z-index: 26;
  background:
    linear-gradient(to bottom, transparent 0%, rgb(99 255 168 / 4%) 15%, rgb(255 255 255 / 10%) 40%, rgb(99 255 168 / 8%) 50%, rgb(255 255 255 / 10%) 60%, rgb(99 255 168 / 4%) 85%, transparent 100%);
  opacity: var(--fx-beam-opacity);
  animation: sweep-beam 5s linear infinite;
}

.crt-flicker::after {
  content: '';
  position: fixed;
  left: 0;
  right: 0;
  top: 0;
  height: 4px;
  pointer-events: none;
  z-index: 26;
  background: linear-gradient(to right, transparent 0%, rgb(255 255 255 / 14%) 12%, transparent 22%, rgb(99 255 168 / 20%) 38%, transparent 48%, rgb(255 255 255 / 12%) 62%, transparent 75%, rgb(88 183 255 / 18%) 88%, transparent 100%);
  opacity: var(--fx-static-opacity);
  animation: static-band 4s steps(30, end) infinite;
}

/* ═══════════════════════════════════════════════════════════
   CONSOLE LAYOUT
   ═══════════════════════════════════════════════════════════ */

.console-header,
.sidebar,
.status-bar,
.sidebar-item,
.view-cmd,
.ops-row,
.proj-row,
.skill-token,
.data-section-head,
.kv-key,
.terminal-btn,
.effects-toggle,
.toast {
  font-family: var(--font-display-mono);
}

/* ── Console Header ── */
.console-header {
  position: relative;
  z-index: var(--z-content);
  height: var(--header-height);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 1.25rem;
  border-bottom: 1px solid color-mix(in srgb, var(--terminal-accent) 20%, var(--terminal-grid) 80%);
  background: color-mix(in srgb, var(--terminal-bg) 97%, black 3%);
  backdrop-filter: blur(20px) saturate(110%);
  -webkit-backdrop-filter: blur(20px) saturate(110%);
  font-size: var(--font-size-step--1);
  color: var(--terminal-text);
  letter-spacing: 0.02em;
  overflow: hidden;
}

.header-prompt {
  color: var(--terminal-accent);
  text-shadow: 0 0 14px rgb(99 255 168 / 28%);
}

.header-path { color: var(--terminal-text); }

.header-cursor {
  color: var(--terminal-accent-blue);
  text-shadow: 0 0 11px rgb(88 183 255 / 25%);
  animation: blink 1.2s step-end infinite;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  min-width: 0;
  overflow: hidden;
}

.header-right {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-shrink: 0;
}

.header-status {
  display: none;
  align-items: center;
  gap: 0.5rem;
  color: var(--terminal-muted);
  font-size: var(--font-size-step--1);
}

@media (min-width: 768px) {
  .header-status { display: flex; }
}

.online-dot {
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background: var(--terminal-accent);
  box-shadow: 0 0 6px var(--terminal-accent);
  animation: pulse-dot 2s ease-in-out infinite;
}

.header-role { color: var(--terminal-accent-blue); }

.effects-toggle {
  position: relative;
  z-index: var(--z-content);
  border: 1px solid var(--terminal-grid);
  border-radius: 0.3rem;
  background: color-mix(in srgb, var(--terminal-surface-2) 96%, black 4%);
  color: var(--terminal-text);
  padding: 0.22rem 0.55rem;
  font-size: 0.78rem;
  letter-spacing: 0.02em;
  cursor: pointer;
  transition: border-color 0.2s ease, color 0.2s ease, background-color 0.2s ease;
}

.effects-toggle:hover {
  border-color: color-mix(in srgb, var(--terminal-accent) 45%, var(--terminal-grid) 55%);
  color: #f3fff8;
}

.effects-toggle[aria-pressed='true'] {
  border-color: color-mix(in srgb, var(--terminal-accent-blue) 52%, var(--terminal-grid) 48%);
  color: var(--terminal-accent-blue);
  background: color-mix(in srgb, var(--terminal-accent-blue) 10%, var(--terminal-surface-2) 90%);
}

/* ── Console Layout Grid ── */
.console-layout {
  position: relative;
  z-index: var(--z-content);
  display: flex;
  flex-direction: column;
  height: calc(100vh - var(--header-height) - var(--statusbar-height));
  overflow: hidden;
}

.console-body {
  display: flex;
  flex: 1;
  min-height: 0;
  overflow: hidden;
}

/* ── Sidebar (desktop) ── */
.sidebar {
  display: none;
  flex-direction: column;
  width: var(--sidebar-width);
  flex-shrink: 0;
  border-right: 1px solid var(--terminal-grid);
  background: color-mix(in srgb, var(--terminal-bg) 98%, black 2%);
  backdrop-filter: blur(16px) saturate(110%);
  -webkit-backdrop-filter: blur(16px) saturate(110%);
  padding: 1rem 0;
  overflow-y: auto;
}

@media (min-width: 768px) {
  .sidebar { display: flex; }
}

.sidebar-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  width: 100%;
  border: none;
  background: transparent;
  color: var(--terminal-muted);
  padding: 0.65rem 1.1rem;
  font-size: 0.9rem;
  letter-spacing: 0.03em;
  cursor: pointer;
  text-align: left;
  transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
  border-left: 2px solid transparent;
}

.sidebar-item:hover {
  color: var(--terminal-text);
  background: color-mix(in srgb, var(--terminal-accent) 5%, transparent 95%);
}

.sidebar-item.active {
  color: var(--terminal-accent);
  background: color-mix(in srgb, var(--terminal-accent) 8%, transparent 92%);
  border-left-color: var(--terminal-accent);
  text-shadow: 0 0 12px rgb(99 255 168 / 22%);
}

.sidebar-item-prefix {
  color: var(--terminal-accent);
  opacity: 0;
  transition: opacity 0.2s ease;
}

.sidebar-item.active .sidebar-item-prefix,
.sidebar-item:hover .sidebar-item-prefix {
  opacity: 1;
}

.sidebar-item-label {
  font-weight: 500;
}

.sidebar-item-title {
  color: var(--terminal-muted);
  font-size: 0.78rem;
  margin-left: auto;
  opacity: 0.6;
  transition: opacity 0.2s ease;
}

.sidebar-item.active .sidebar-item-title {
  opacity: 0.9;
  color: color-mix(in srgb, var(--terminal-accent) 60%, var(--terminal-muted) 40%);
}

/* ── Mobile Tab Bar ── */
.mobile-tabs {
  display: flex;
  overflow-x: auto;
  border-bottom: 1px solid var(--terminal-grid);
  background: color-mix(in srgb, var(--terminal-bg) 98%, black 2%);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}

.mobile-tabs::-webkit-scrollbar { display: none; }

@media (min-width: 768px) {
  .mobile-tabs { display: none; }
}

.mobile-tab {
  flex: 1;
  border: none;
  background: transparent;
  color: var(--terminal-muted);
  padding: 0.7rem 0.5rem;
  font-family: var(--font-display-mono);
  font-size: 0.82rem;
  letter-spacing: 0.04em;
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: color 0.2s ease, border-color 0.2s ease, background-color 0.2s ease;
  text-align: center;
}

.mobile-tab:hover {
  color: var(--terminal-text);
  background: color-mix(in srgb, var(--terminal-accent) 3%, transparent 97%);
}

.mobile-tab.active {
  color: var(--terminal-accent);
  border-bottom-color: var(--terminal-accent);
  background: color-mix(in srgb, var(--terminal-accent) 5%, transparent 95%);
}

/* ── Main Viewport ── */
.main-viewport {
  flex: 1;
  min-width: 0;
  overflow-y: auto;
  overflow-x: hidden;
  display: flex;
  justify-content: center;
  scrollbar-width: thin;
  scrollbar-color: var(--terminal-grid) transparent;
  background: color-mix(in srgb, var(--terminal-bg) 92%, black 8%);
  backdrop-filter: blur(24px) saturate(120%);
  -webkit-backdrop-filter: blur(24px) saturate(120%);
}

.viewport-content {
  width: 100%;
  max-width: 860px;
  padding: 2rem 1.5rem;
}

@media (min-width: 768px) {
  .viewport-content {
    padding: 2.5rem 2.5rem;
  }
}

@media (min-width: 1200px) {
  .viewport-content {
    padding: 2.5rem 3rem;
  }
}

/* ── View Containers with Animations ── */
.view-panel {
  display: none;
}

.view-panel.active {
  display: block;
  animation: view-enter 0.3s ease-out;
}

.view-cmd {
  margin: 0 0 1.5rem;
  color: var(--terminal-accent);
  font-size: var(--font-size-step--1);
  letter-spacing: 0.04em;
  text-transform: lowercase;
  opacity: 0.8;
}

/* ── Status Bar ── */
.status-bar {
  position: relative;
  z-index: var(--z-content);
  height: var(--statusbar-height);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 1.25rem;
  border-top: 1px solid var(--terminal-grid);
  background: color-mix(in srgb, var(--terminal-bg) 97%, black 3%);
  backdrop-filter: blur(20px) saturate(110%);
  -webkit-backdrop-filter: blur(20px) saturate(110%);
  font-family: var(--font-display-mono);
  font-size: 0.76rem;
  color: var(--terminal-muted);
  letter-spacing: 0.02em;
  overflow: hidden;
}

.status-bar-left,
.status-bar-right {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.status-sep { color: var(--terminal-grid); }

/* ═══════════════════════════════════════════════════════════
   SYSTEM VIEW
   ═══════════════════════════════════════════════════════════ */

.sys-hero {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 1px solid var(--terminal-grid);
}

.profile-image {
  width: 110px;
  height: 110px;
  flex-shrink: 0;
  object-fit: cover;
  border-radius: 0.6rem;
  border: 1px solid color-mix(in srgb, var(--terminal-accent) 35%, var(--terminal-grid) 65%);
  filter: contrast(1.04) saturate(0.92);
  box-shadow: 0 4px 20px rgb(0 0 0 / 40%), 0 0 15px rgb(99 255 168 / 8%);
}

.sys-hero-info {
  min-width: 0;
}

.sys-name {
  margin: 0;
  font-family: var(--font-display-mono);
  font-size: var(--font-size-step-2);
  font-weight: 500;
  letter-spacing: 0.02em;
  color: #f2fff8;
  line-height: var(--line-tight);
}

.sys-headline {
  margin: 0.35rem 0 0;
  font-family: var(--font-display-mono);
  color: var(--terminal-accent-blue);
  font-size: 0.95rem;
  letter-spacing: 0.02em;
}

.sys-grid {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

@media (min-width: 640px) {
  .sys-grid {
    flex-direction: row;
    align-items: flex-start;
    justify-content: space-between;
    gap: 2rem;
  }
}

.sys-main { flex: 1; min-width: 0; }

.sys-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9rem;
}

.sys-table td {
  padding: 0.38rem 0;
  vertical-align: top;
}

.sys-table td:first-child {
  color: var(--terminal-accent);
  font-family: var(--font-display-mono);
  padding-right: 2.5rem;
  white-space: nowrap;
  width: 1%;
}

.sys-table td:last-child { color: var(--terminal-text); }

.sys-link {
  color: var(--terminal-accent-blue);
  text-decoration: none;
  transition: color 0.15s ease;
}

.sys-link:hover {
  color: #9dd4ff;
  text-decoration: underline;
}

.sys-about {
  margin: 1.5rem 0 0;
  color: var(--terminal-text);
  font-size: var(--font-size-step-0);
  line-height: var(--line-relaxed);
  max-width: 64ch;
  padding-top: 1.25rem;
  border-top: 1px solid var(--terminal-grid);
}

.sys-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
  flex-shrink: 0;
}

.terminal-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--terminal-grid);
  border-radius: 0.35rem;
  padding: 0.45rem 0.85rem;
  background: var(--terminal-surface);
  color: var(--terminal-text);
  text-decoration: none;
  font-size: 0.86rem;
  cursor: pointer;
  transition: border-color 0.2s ease, color 0.2s ease, transform 0.15s ease, box-shadow 0.2s ease;
  overflow: hidden;
  background-clip: padding-box;
}

.terminal-btn:hover {
  border-color: var(--terminal-accent);
  color: #eefff4;
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgb(99 255 168 / 10%);
}

.terminal-btn:active {
  transform: translateY(1px) scale(0.97);
  border-color: var(--terminal-accent);
  background: color-mix(in srgb, var(--terminal-accent) 15%, var(--terminal-surface) 85%);
  box-shadow: inset 0 1px 4px rgb(0 0 0 / 30%), 0 0 8px rgb(99 255 168 / 15%);
  transition-duration: 0.05s;
}

.terminal-btn.btn-copied {
  border-color: var(--terminal-accent);
  color: var(--terminal-accent);
  background: color-mix(in srgb, var(--terminal-accent) 10%, var(--terminal-surface) 90%);
  box-shadow: 0 0 12px rgb(99 255 168 / 20%);
}

/* ═══════════════════════════════════════════════════════════
   OPS LOG — Div-based rows with smooth expansion
   ═══════════════════════════════════════════════════════════ */

.ops-list {
  display: flex;
  flex-direction: column;
}

.ops-entry {
  border-bottom: 1px solid color-mix(in srgb, var(--terminal-grid) 60%, transparent 40%);
}

.ops-row {
  display: flex;
  align-items: baseline;
  gap: 0.75rem;
  padding: 0.7rem 0.5rem;
  cursor: pointer;
  transition: background-color 0.2s ease;
  border-radius: 0.25rem;
}

.ops-row:hover {
  background: color-mix(in srgb, var(--terminal-accent) 4%, transparent 96%);
}

.ops-row.active {
  background: color-mix(in srgb, var(--terminal-accent) 7%, transparent 93%);
}

.ops-idx {
  color: var(--terminal-muted);
  font-family: var(--font-display-mono);
  font-size: 0.84rem;
  flex-shrink: 0;
  width: 1.5rem;
}

.ops-info {
  display: flex;
  flex-direction: column;
  gap: 0.15rem;
  flex: 1;
  min-width: 0;
}

.ops-role {
  color: var(--terminal-text);
  font-size: 0.9rem;
  font-weight: 500;
}

.ops-org {
  color: var(--terminal-accent-blue);
  font-size: 0.82rem;
}

.ops-period {
  color: var(--terminal-amber);
  font-family: var(--font-display-mono);
  font-size: 0.82rem;
  white-space: nowrap;
  flex-shrink: 0;
}

/* Smooth expand/collapse via CSS grid */
.ops-detail-wrap {
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows 0.3s ease;
}

.ops-detail-wrap.active {
  grid-template-rows: 1fr;
}

.ops-detail-inner {
  overflow: hidden;
  padding: 0 0.5rem 0 2.75rem;
}

.ops-detail-wrap.active .ops-detail-inner {
  padding-bottom: 1rem;
}

.ops-detail-inner ul {
  margin: 0.5rem 0 0;
  padding-left: 1.2rem;
  display: grid;
  gap: 0.4rem;
  color: var(--terminal-text);
  font-size: 0.88rem;
  line-height: 1.6;
}

.ops-detail-inner li::marker {
  color: var(--terminal-accent);
}

.ops-location {
  color: var(--terminal-muted);
  font-size: 0.82rem;
  margin: 0;
}

/* ═══════════════════════════════════════════════════════════
   PROJECTS VIEW — Div-based with smooth expansion
   ═══════════════════════════════════════════════════════════ */

.proj-list {
  display: flex;
  flex-direction: column;
}

.proj-entry {
  border-bottom: 1px solid color-mix(in srgb, var(--terminal-grid) 60%, transparent 40%);
}

.proj-row {
  display: flex;
  align-items: baseline;
  gap: 0.75rem;
  padding: 0.7rem 0.5rem;
  cursor: pointer;
  transition: background-color 0.2s ease;
  border-radius: 0.25rem;
}

.proj-row:hover {
  background: color-mix(in srgb, var(--terminal-accent) 4%, transparent 96%);
}

.proj-row.active {
  background: color-mix(in srgb, var(--terminal-accent) 7%, transparent 93%);
}

.proj-period {
  color: var(--terminal-amber);
  font-family: var(--font-display-mono);
  font-size: 0.84rem;
  white-space: nowrap;
  flex-shrink: 0;
  min-width: 5rem;
}

.proj-name {
  color: var(--terminal-text);
  font-size: 0.9rem;
  font-weight: 500;
  flex: 1;
  min-width: 0;
}

.proj-link-indicator {
  color: var(--terminal-accent);
  font-family: var(--font-display-mono);
  font-size: 0.78rem;
}

/* Smooth expand/collapse via CSS grid */
.proj-detail-wrap {
  display: grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows 0.3s ease;
}

.proj-detail-wrap.active {
  grid-template-rows: 1fr;
}

.proj-detail-inner {
  overflow: hidden;
  padding: 0 0.5rem;
}

.proj-detail-wrap.active .proj-detail-inner {
  padding-bottom: 1rem;
}

.proj-detail-inner ul {
  margin: 0.5rem 0 0;
  padding-left: 1.2rem;
  display: grid;
  gap: 0.4rem;
  color: var(--terminal-text);
  font-size: 0.88rem;
  line-height: 1.6;
}

.proj-detail-inner li::marker {
  color: var(--terminal-accent);
}

.proj-detail-link {
  display: inline-block;
  margin-top: 0.75rem;
  margin-left: 1.2rem;
  color: var(--terminal-accent);
  text-decoration: none;
  font-family: var(--font-display-mono);
  font-size: 0.84rem;
  transition: color 0.15s ease;
}

.proj-detail-link:hover {
  color: #b7ffd8;
  text-decoration: underline;
}

/* ═══════════════════════════════════════════════════════════
   TECH VIEW — Skill tokens
   ═══════════════════════════════════════════════════════════ */

.tech-group {
  margin-bottom: 1.75rem;
}

.tech-group:last-child { margin-bottom: 0; }

.tech-label {
  margin: 0 0 0.65rem;
  color: var(--terminal-accent-blue);
  font-family: var(--font-display-mono);
  font-size: 0.9rem;
  letter-spacing: 0.03em;
}

.tech-count {
  color: var(--terminal-muted);
  font-size: 0.8rem;
  margin-left: 0.4rem;
}

.tech-tokens {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.skill-token {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  border: 1px solid var(--terminal-grid);
  border-radius: 0.3rem;
  padding: 0.35rem 0.7rem;
  background: var(--terminal-surface-2);
  color: var(--terminal-text);
  font-size: 0.84rem;
  letter-spacing: 0.01em;
  transition: border-color 0.2s ease, transform 0.15s ease, box-shadow 0.2s ease;
}

.skill-token:hover {
  border-color: color-mix(in srgb, var(--terminal-accent) 40%, var(--terminal-grid) 60%);
  transform: translateY(-1px);
  box-shadow: 0 2px 6px rgb(99 255 168 / 8%);
}

.skill-token-hash {
  color: var(--terminal-accent);
  font-size: 0.78rem;
}

/* ═══════════════════════════════════════════════════════════
   DATA VIEW — Config file sections
   ═══════════════════════════════════════════════════════════ */

.data-section {
  margin-bottom: 1.25rem;
  border: 1px solid var(--terminal-grid);
  border-radius: 0.4rem;
  overflow: hidden;
  transition: border-color 0.2s ease;
}

.data-section:last-child { margin-bottom: 0; }

.data-section:hover {
  border-color: color-mix(in srgb, var(--terminal-accent) 20%, var(--terminal-grid) 80%);
}

.data-section-head {
  padding: 0.5rem 0.85rem;
  background: color-mix(in srgb, var(--terminal-surface-2) 80%, var(--terminal-surface) 20%);
  border-bottom: 1px solid var(--terminal-grid);
  color: var(--terminal-amber);
  font-size: 0.86rem;
  letter-spacing: 0.03em;
}

.data-section-body { padding: 0.85rem; }

.kv-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.88rem;
}

.kv-table td {
  padding: 0.3rem 0;
  vertical-align: top;
}

.kv-key {
  color: var(--terminal-accent);
  padding-right: 3rem;
  white-space: nowrap;
  min-width: 10rem;
}

.kv-val { color: var(--terminal-text); }

.data-list {
  margin: 0.5rem 0 0;
  padding-left: 1.2rem;
  display: grid;
  gap: 0.35rem;
  color: var(--terminal-text);
  font-size: 0.88rem;
  line-height: 1.55;
}

.data-list li::marker { color: var(--terminal-accent); }

/* ═══════════════════════════════════════════════════════════
   TOAST
   ═══════════════════════════════════════════════════════════ */

.toast {
  position: fixed;
  right: 0.8rem;
  bottom: 0.8rem;
  z-index: 130;
  pointer-events: none;
  opacity: 0;
  transform: translateY(8px);
  border: 1px solid var(--terminal-grid);
  border-radius: 0.45rem;
  padding: 0.5rem 0.75rem;
  background: var(--terminal-surface-2);
  backdrop-filter: blur(18px) saturate(110%);
  -webkit-backdrop-filter: blur(18px) saturate(110%);
  color: var(--terminal-accent);
  font-size: 0.86rem;
  box-shadow: 0 10px 28px rgb(0 0 0 / 42%), inset 0 0 0 1px rgb(99 255 168 / 14%);
  transition: opacity 0.22s ease, transform 0.22s ease;
  overflow: hidden;
  background-clip: padding-box;
}

.toast.show {
  opacity: 1;
  transform: translateY(0);
}

/* ═══════════════════════════════════════════════════════════
   FOCUS
   ═══════════════════════════════════════════════════════════ */

a:focus-visible,
button:focus-visible {
  outline: 2px solid var(--terminal-accent);
  outline-offset: 2px;
}

/* ═══════════════════════════════════════════════════════════
   KEYFRAMES
   ═══════════════════════════════════════════════════════════ */

@keyframes blink {
  50% { opacity: 0; }
}

@keyframes pulse-dot {
  0%, 100% {
    box-shadow: 0 0 6px var(--terminal-accent);
    opacity: 1;
  }
  50% {
    box-shadow: 0 0 12px var(--terminal-accent), 0 0 4px var(--terminal-accent);
    opacity: 0.7;
  }
}

@keyframes view-enter {
  0% {
    opacity: 0;
    transform: translateY(8px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes glass-shimmer {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

@keyframes shader-aurora-drift {
  0% { transform: translate3d(-2.2%, -1.2%, 0) scale(1.02) rotate(-1deg); }
  50% { transform: translate3d(2.4%, 1.5%, 0) scale(1.06) rotate(1deg); }
  100% { transform: translate3d(1.1%, -0.8%, 0) scale(1.04) rotate(0deg); }
}

@keyframes shader-blob-float {
  0% { transform: translate3d(-5%, 1%, 0) scale(1); }
  35% { transform: translate3d(3%, -2.5%, 0) scale(1.06); }
  70% { transform: translate3d(6%, 2%, 0) scale(1.03); }
  100% { transform: translate3d(-3%, -1%, 0) scale(1.04); }
}

@keyframes shader-crt-roll {
  0% { background-position: 0 0, 0 0; }
  100% { background-position: 0 0, 0 140px; }
}

@keyframes shader-glitch-jump {
  0%, 88%, 100% { transform: translate3d(0, 0, 0); opacity: 0.08; }
  89% { transform: translate3d(-1px, 0, 0); opacity: 0.14; }
  90% { transform: translate3d(1px, 0, 0); }
  91% { transform: translate3d(-1px, 0, 0); opacity: 0.1; }
  92% { transform: translate3d(0, 0, 0); opacity: 0.08; }
}

@keyframes shader-glitch-band {
  0% { top: -8%; opacity: 0; }
  5% { top: 20%; opacity: 0.44; }
  7% { top: 24%; opacity: 0; }
  46% { top: 58%; opacity: 0; }
  48% { top: 62%; opacity: 0.38; }
  50% { top: 66%; opacity: 0; }
  100% { top: 104%; opacity: 0; }
}

@keyframes shader-chroma-spin {
  0% { transform: rotate(0deg) scale(1); }
  50% { transform: rotate(180deg) scale(1.04); }
  100% { transform: rotate(360deg) scale(1); }
}

@keyframes scanline-scroll {
  0% { transform: translateY(0); }
  100% { transform: translateY(50%); }
}

@keyframes vertical-drift {
  0% { transform: translateX(0); }
  100% { transform: translateX(8px); }
}

@keyframes sweep-beam {
  0% { top: -12%; }
  100% { top: 112%; }
}

@keyframes static-band {
  0% { top: 12%; opacity: 0; }
  2% { top: 12%; opacity: 0.7; }
  3% { top: 13%; opacity: 0; }
  20% { top: 45%; opacity: 0; }
  21% { top: 45%; opacity: 0.5; }
  22% { top: 46%; opacity: 0; }
  50% { top: 78%; opacity: 0; }
  51% { top: 78%; opacity: 0.6; }
  52% { top: 79%; opacity: 0; }
  70% { top: 33%; opacity: 0; }
  71% { top: 33%; opacity: 0.4; }
  72% { top: 34%; opacity: 0; }
  100% { top: 90%; opacity: 0; }
}

@keyframes edge-flicker {
  0%, 15%, 35%, 100% { opacity: 0.97; }
  16% { opacity: 0.82; }
  17% { opacity: 0.95; }
  36% { opacity: 0.85; }
  37% { opacity: 0.90; }
  38% { opacity: 0.96; }
  72% { opacity: 0.93; }
  73% { opacity: 0.78; }
  74% { opacity: 0.94; }
}

/* ═══════════════════════════════════════════════════════════
   EFFECTS LEVELS
   ═══════════════════════════════════════════════════════════ */

:root[data-effects='reduced'] {
  --fx-scanline-opacity: 0.15;
  --fx-flicker-opacity: 0.02;
  --fx-beam-opacity: 0.3;
  --fx-static-opacity: 0.2;
  --fx-aurora-opacity: 0.25;
  --fx-blob-opacity: 0.1;
  --fx-crt-screen-opacity: 0.15;
  --fx-glitch-opacity: 0.01;
  --fx-chroma-opacity: 0.02;
}

:root[data-effects='reduced'] .shader-aurora { animation-duration: 42s; }
:root[data-effects='reduced'] .shader-color-blob { animation-duration: 56s; }
:root[data-effects='reduced'] .shader-crt-screen { animation-duration: 26s; }
:root[data-effects='reduced'] .shader-small-glitch,
:root[data-effects='reduced'] .shader-small-glitch::before { animation: none; }
:root[data-effects='reduced'] .shader-chroma-flow { animation-duration: 32s; }

:root[data-effects='reduced'] .view-panel.active {
  animation-duration: 0.15s;
}

:root[data-effects='off'] {
  --fx-scanline-opacity: 0;
  --fx-flicker-opacity: 0;
  --fx-beam-opacity: 0;
  --fx-static-opacity: 0;
  --fx-aurora-opacity: 0;
  --fx-blob-opacity: 0;
  --fx-crt-screen-opacity: 0;
  --fx-glitch-opacity: 0;
  --fx-chroma-opacity: 0;
}

:root[data-effects='off'] .shader-stack,
:root[data-effects='off'] .crt-body::before,
:root[data-effects='off'] .crt-body::after,
:root[data-effects='off'] .crt-screen::before,
:root[data-effects='off'] .crt-screen::after,
:root[data-effects='off'] .crt-flicker,
:root[data-effects='off'] .crt-flicker::before,
:root[data-effects='off'] .crt-flicker::after {
  display: none !important;
}

:root[data-effects='off'] .view-panel.active {
  animation: none;
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation: none !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  .crt-body::after { animation: none; }
}

@media (prefers-color-scheme: light) {
  :root { color-scheme: dark only; }
  body {
    background-color: var(--terminal-bg) !important;
    color: var(--terminal-text) !important;
  }
}

@media (forced-colors: active) {
  .shader-stack,
  .crt-body::before,
  .crt-body::after,
  .crt-screen::before,
  .crt-screen::after,
  .crt-flicker,
  .crt-flicker::before,
  .crt-flicker::after {
    display: none;
  }
}
